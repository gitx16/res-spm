{"family": "arale", "updated_at": "2014-03-25T08:16:26Z", "tag": "stable", "spm": {"output": ["events.js"]}, "keywords": ["infrastructure"], "author": "\u7389\u4f2f <lifesinger@gmail.com>", "filename": "events-1.1.0.tar.gz", "version": "1.1.0", "readme": "\n# Events\n\n---\n\n[![Build Status](https://travis-ci.org/aralejs/events.png)](https://travis-ci.org/aralejs/events) [![Coverage Status](https://coveralls.io/repos/aralejs/events/badge.png?branch=master)](https://coveralls.io/r/aralejs/events)\n\n\u63d0\u4f9b\u57fa\u672c\u7684\u4e8b\u4ef6\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u89e6\u53d1\u529f\u80fd\u3002\n\n---\n\n## \u4f7f\u7528\u8bf4\u660e\n\n\u4f7f\u7528 `Events` \u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u76f4\u63a5\u5b9e\u4f8b\u5316\uff1a\n\n```\ndefine(function(require) {\n    var Events = require('events');\n\n    var object = new Events();\n    object.on('expand', function() {\n        alert('expanded');\n    });\n\n    object.trigger('expand');\n});\n```\n\n\u53e6\u4e00\u79cd\u662f\u5c06 `Events` \u6df7\u5165\uff08mix-in\uff09\u5230\u5176\u4ed6\u7c7b\u4e2d\uff1a\n\n```\ndefine(function(require) {\n    var Events = require('events');\n\n    function Dog() {\n    }\n    Events.mixTo(Dog);\n\n    Dog.prototype.sleep = function() {\n        this.trigger('sleep');\n    };\n\n    var dog = new Dog();\n    dog.on('sleep', function() {\n        alert('\u72d7\u72d7\u7761\u5f97\u597d\u9999\u5440');\n    });\n\n    dog.sleep();\n});\n```\n\n\u4e0a\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u5c55\u73b0\u4e86 `on`, `trigger` `mixTo` \u7b49\u65b9\u6cd5\u7684\u57fa\u672c\u7528\u6cd5\uff0c\u4e0b\u9762\u8be6\u7ec6\u9610\u8ff0\u6240\u6709 API \u3002\n\n\n### on `object.on(event, callback, [context])`\n\n\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u3002\n\n\u53ef\u4ee5\u4f20\u5165\u7b2c\u4e09\u4e2a\u53c2\u6570 `context` \u6765\u6539\u53d8\u56de\u8c03\u51fd\u6570\u8c03\u7528\u65f6\u7684 `this` \u503c\uff1a\n\n```\npost.on('saved', callback, that);\n```\n\n**\u6ce8\u610f**\uff1a`event` \u53c2\u6570\u6709\u4e2a\u7279\u6b8a\u53d6\u503c\uff1a`all` \u5bf9\u8c61\u4e0a\u89e6\u53d1\u4efb\u4f55\u4e8b\u4ef6\uff0c\u90fd\u4f1a\u89e6\u53d1 `all`\n\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f20\u7ed9 `all` \u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u540d\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u4e0a\u7684\u6240\u6709\u4e8b\u4ef6\u4ee3\u7406\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e0a\uff1a\n\n```\nproxy.on('all', function(eventName) {\n    object.trigger(eventName);\n});\n```\n\n### off `object.off([event], [callback], [context])`\n\n\u4ece\u5bf9\u8c61\u4e0a\u79fb\u9664\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u3002\u4e09\u4e2a\u53c2\u6570\u90fd\u662f\u53ef\u9009\u7684\uff0c\u5f53\u7701\u7565\u67d0\u4e2a\u53c2\u6570\u65f6\uff0c\u8868\u793a\u53d6\u8be5\u53c2\u6570\u7684\u6240\u6709\u503c\u3002\u4f8b\u5b50\uff1a\n\n```\n// \u79fb\u9664 change \u4e8b\u4ef6\u4e0a\u540d\u4e3a onChange \u7684\u56de\u8c03\u51fd\u6570\nobject.off('change', onChange);\n\n// \u79fb\u9664 change \u4e8b\u4ef6\u7684\u6240\u6709\u56de\u8c03\u51fd\u6570\nobject.off('change');\n\n// \u79fb\u9664\u6240\u6709\u4e8b\u4ef6\u4e0a\u540d\u4e3a onChange \u7684\u56de\u8c03\u51fd\u6570\nobject.off(null, onChange);\n\n// \u79fb\u9664\u4e0a\u4e0b\u6587\u4e3a context \u7684\u6240\u6709\u4e8b\u4ef6\u7684\u6240\u6709\u56de\u8c03\u51fd\u6570\nobject.off(null, null, context);\n\n// \u79fb\u9664 object \u5bf9\u8c61\u4e0a\u6240\u6709\u4e8b\u4ef6\u7684\u6240\u6709\u56de\u8c03\u51fd\u6570\nobject.off();\n```\n\n\n### trigger `object.trigger(event, [*args])`\n\n\u89e6\u53d1\u4e00\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\uff08\u7528\u7a7a\u683c\u5206\u9694\uff09\u3002`*args` \u53c2\u6570\u4f1a\u4f9d\u6b21\u4f20\u7ed9\u56de\u8c03\u51fd\u6570\u3002\n\n```\nobj.on('event', function(arg1, arg2) {\n  // your code\n});\n\nobj.trigger('event', arg1, arg2);\n```\n\ntrigger \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4f1a\u6839\u636e\u6240\u6709 callback \u7684\u6267\u884c\u60c5\u51b5\u8fd4\u56de\u3002\u53ea\u8981\u6709\u4e00\u4e2a callback \u8fd4\u56de false\uff0ctrigger \u5c31\u4f1a\u8fd4\u56de false\u3002\n\n```\nobj.on('event', function() {\n  // do sth.\n});\nobj.on('event', function() {\n  // do sth.\n  return false;\n});\nobj.on('event', function() {\n  // do sth\n});\n\nobj.trigger('event'); // return false\n```\n\n**\u6ce8\u610f**\uff1a`on` \u548c `off` \u7684 `event` \u53c2\u6570\u4e5f\u53ef\u4ee5\u8868\u793a\u591a\u4e2a\u4e8b\u4ef6\uff08\u7528\u7a7a\u683c\u5206\u9694\uff09\uff0c\u6bd4\u5982\uff1a\n\n```\nvar obj = new Events();\n\nobj.on('x y', fn);\n\n// \u7b49\u4ef7\uff1a\nobj.on('x').on('y');\n```\n\n\n### mixTo `Events.mixTo(receiver)`\n\n\u5c06 `Events` \u7684\u539f\u578b\u65b9\u6cd5\u6df7\u5165\u5230\u6307\u5b9a\u5bf9\u8c61\u6216\u51fd\u6570\u539f\u578b\u4e2d\u3002\n\n## \u95ee\u9898\u8ba8\u8bba\n\n- handler \u7684\u5f02\u5e38\u5904\u7406 https://github.com/aralejs/events/issues/1\n\n## \u6027\u80fd\u5bf9\u6bd4\n\n- <http://jsperf.com/events-perfs/6>\n\n**\u6ce8**\uff1a\u6700\u5f00\u59cb\uff0c\u8be5\u6a21\u5757\u7684\u4e3b\u8981\u4ee3\u7801\u76f4\u63a5\u6765\u81ea Backbone.Events. \u540e\u6765\u53d1\u73b0 Backbone\n\u7684\u4ee3\u7801\u5b9e\u73b0\u6709\u8f83\u5927\u7684\u6539\u8fdb\u7a7a\u95f4\uff0c\u56e0\u6b64\u5c06\u5185\u90e8\u7684\u6570\u636e\u7ed3\u6784\u4ece\u94fe\u8868\u6539\u6210\u4e86\u6570\u7ec4\uff0c\u91cd\u6784\u540e\u5927\u5e45\u5ea6\u63d0\u5347\u4e86\u6027\u80fd\u3002\u76ee\u524d\nBackbone \u5df2\u5408\u5e76 Arale \u7684\u4ee3\u7801\uff1a\n\n- <https://github.com/documentcloud/backbone/pull/1284>\n\n", "homepage": "http://aralejs.org/events/", "revision": "50eba2c439945c62623f915929f7fcb56f26bb41", "description": "\u63d0\u4f9b\u57fa\u672c\u7684\u4e8b\u4ef6\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u89e6\u53d1\u529f\u80fd\u3002", "repository": {"url": "https://github.com/aralejs/events.git", "type": "git"}, "distfiles": ["events-debug.js", "events.js"], "maintainers": ["\u7389\u4f2f <lifesinger@gmail.com>", "\u8d2f\u9ad8 <sakura9515@gmail.com>"], "dependencies": [], "md5": "3b981bc19d39a9e314890ef568a3e5c1", "publisher": "liz", "name": "events", "created_at": "2013-04-18T15:13:10Z", "bugs": {"url": "https://github.com/aralejs/events/issues"}, "dependents": ["arale/base@1.1.0", "arale/sticky@1.1.0", "arale/dialog@1.1.0", "arale/dialog@1.1.1", "arale/base@1.1.1", "arale/dialog@1.1.2", "arale/dialog@1.1.3", "emo/animation-view@1.0.0", "arale/dialog@1.2.0", "lepture/color-picker@0.1.0", "lepture/color-picker@0.1.1", "arale/dialog@1.2.1", "arale/dialog@1.2.2", "arale/dialog@1.2.3", "arale/dialog@1.2.4", "playman/pdialog@1.1.0", "arale/dialog@1.2.5", "hotoo/imagic@1.0.0", "arale/dialog@1.2.6", "alinw/dialog@1.2.6", "arale/dialog@1.3.0"]}