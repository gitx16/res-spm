define("jquery/reqSelector/1.0.1/reqSelector",["$"],function(a){var b=a("$");b.fn.extend({reqSelector:function(){function a(a,b){for(var c=a.match(/\{[a-zA-Z]+\}/gi),d="",e=0;e<c.length;e++){""==d&&(d=a);var f=c[e].replace(/[\{\}]/gi,"");d=d.replace(c[e],b[f])}return d}var c={target:null,keepFirst:!0,caching:!0,invalidValue:null,url:"",method:"",params:{},paramName:"",itemTemplate:'<option value="{value}">{label}</option>',itemTemplateForMultiple:'<option value="{value}" {selected}>{label}</option>',onFailure:function(){},stopOnError:!0,callback:null,multiple:!1};return function(d){var e=b.extend({},c,d);return this.each(function(){var c=this,d=b(e.target)[0]||b(this).prev()[0];if(c&&d){var f=function(f){if(f||b(d).data("value")){var g=b(c).children();if(e.keepFirst&&(g=g.slice(1)),g.remove(),f&&!b(d).val())return e.callback&&e.callback.call(c,d.value,c.value),b(c).trigger("change"),void 0;if(d.value!==e.invalidValue){if(e.multiple){var h=[];b(d).find("option").each(function(){this.selected&&h.push(this.value)}),e.params[e.paramName||d.name]=h.join(",")}else e.params[e.paramName||d.name]=f?d.value:b(d).data("value");b.ajax(e.url||d.getAttribute("action"),{data:e.params,dataType:"json",success:function(g){if(e.multiple?b.each(g,function(){b(a(e.itemTemplateForMultiple,{value:this.value,label:this.label,selected:this.selected?'selected="selected"':""})).appendTo(c)}):b.each(g,function(){b(a(e.itemTemplate,{value:this.value,label:this.label})).appendTo(c)}),!f&&!e.multiple){var h=c.getAttribute("data-value");h&&b(c).val(h)}e.callback&&e.callback.call(c,d.value,c.value),f&&b(c).trigger("change")},error:function(a){e.onFailure.apply(a,arguments),e.stopOnError&&f&&f.preventDefault()},type:(e.method||d.method||"get").toUpperCase()})}}};b(d).change(f),f()}})}}()})});
