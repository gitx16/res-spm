define("value/form-select/1.0.0/form-select",["$","value/form/1.0.0/form-widget","value/base/1.0.0/base","arale/templatable/0.9.2/templatable","gallery/handlebars/1.0.2/handlebars","arale/widget/1.1.1/widget","arale/base/1.1.1/base","arale/class/1.1.0/class","arale/events/1.1.0/events","jquery/select2/3.5.2/select2-zh-cn","./select.handlebars"],function(a,b,c){"use strict";a("$");var d=a("value/form/1.0.0/form-widget");a("jquery/select2/3.5.2/select2-zh-cn"),a.async("jquery/select2/3.5.2/select2.css");var e=a("./select.handlebars"),f=d.extend({attrs:{template:e,model:{},verticalLayout:!1,selected:"",dataList:[],addNullChoice:!0,disabled:!1},actualDOM:null,_onChangeDataList:function(){var a=this.get("model"),b=this.get("dataList")||[];a.multiple||(b=this.addNullChoice(b)),a.dataList=b,this.renderPartial("select")},_onChangeSelected:function(a){var b=this.get("model");b.selected=a},setVal:function(a){this.$("select").val(a).trigger("change")},initAttrs:function(a,b){f.superclass.initAttrs.call(this,a,b),this.setModel()},setModel:function(){var a=this.get("dataList"),b=this.get("model");b.multiple=this.get("multiple"),b.multiple||(a=this.addNullChoice(a)),b.verticalLayout=this.get("verticalLayout"),b.name=this.get("name"),b.selected=this.get("selected"),b.dataList=a,b.disabled=this.get("disabled")},addNullChoice:function(a){var b=this.get("addNullChoice");return b&&(a=[{label:"-请选择-",value:""}].concat(a)),a},setup:function(){f.superclass.setup.call(this),this.setActualDOM();var a=this,b=this.get("select2");b&&(b===!0&&(b={closeOnSelect:!1}),this.actualDOM.select2(b),setTimeout(function(){a.$("select").val(a.get("selected")).trigger("change")},10))},setActualDOM:function(){this.actualDOM=this.element.find("select")},templateHelpers:{dealSelected:function(a,b){return a==b?"selected":""}},valid:function(){return this.$("select").valid()},getValue:function(){var a={},b=this.$("select").val();if(b){var c=this.get("name");a[c]=this.$("select").val()}return a},clear:function(){this.$("select").val("")}});c.exports=f}),define("value/form-select/1.0.0/select.handlebars",["gallery/handlebars/1.0.2/runtime"],function(a,b,c){var d=a("gallery/handlebars/1.0.2/runtime"),e=d.template;c.exports=e(function(a,b,c,d,e){function f(){return"vertical-form-group"}function g(){return"disabled"}function h(){return"multiple"}function i(a,b,d){var e,f,g,h="";return h+='\n                <option value="',(e=c.value)?e=e.call(a,{hash:{},data:b}):(e=a.value,e=typeof e===n?e.apply(a):e),h+=o(e)+'" ',g={hash:{},data:b},h+=o((e=c.dealSelected,e?e.call(a,a.value,d.selected,g):p.call(a,"dealSelected",a.value,d.selected,g)))+">",(f=c.label)?f=f.call(a,{hash:{},data:b}):(f=a.label,f=typeof f===n?f.apply(a):f),h+=o(f)+"</option>\n            "}this.compilerInfo=[3,">= 1.0.0-rc.4"],c=c||{};for(var j in a.helpers)c[j]=c[j]||a.helpers[j];e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=c.helperMissing,q=this;return m+='<div class="form-group ',k=c["if"].call(b,b.verticalLayout,{hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e}),(k||0===k)&&(m+=k),m+='">\n    <label class="col-xs-2 control-label '+o((k=b.label,k=null==k||k===!1?k:k.requiredCls,typeof k===n?k.apply(b):k))+'">'+o((k=b.label,k=null==k||k===!1?k:k.text,typeof k===n?k.apply(b):k))+'</label>\n\n    <div class="col-xs-10">\n        <select class="form-control" name="',(l=c.name)?l=l.call(b,{hash:{},data:e}):(l=b.name,l=typeof l===n?l.apply(b):l),m+=o(l)+'" ',l=c["if"].call(b,b.disabled,{hash:{},inverse:q.noop,fn:q.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+=" ",l=c["if"].call(b,b.multiple,{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(l||0===l)&&(m+=l),m+=">\n            ",l=c.each.call(b,b.dataList,{hash:{},inverse:q.noop,fn:q.programWithDepth(7,i,e,b),data:e}),(l||0===l)&&(m+=l),m+="\n        </select>\n    </div>\n</div>\n"})});
